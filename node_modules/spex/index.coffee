module.exports =
  load: (namespace) ->
    replaceAllDots = /\./g
    namespaceToPath = (ns) -> ns.replace replaceAllDots, "/"
    module = namespaceToPath namespace
    return require "./#{module}"

  create: (namespace, args) ->
    model = @load namespace
    return new model args

  run: (namespace, args) ->
    service = @load namespace
    service args

