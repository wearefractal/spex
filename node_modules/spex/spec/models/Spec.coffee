spec = require('domain').spec

# a **Spec** is something important that happens in your system
# a spec consists of scenarios which in turn consist of a description & block of code

class Spec
  status: 'notrun'

  constructor: (@name, specDSL, @isCoffee, done) ->
    # sandbox hack: namespace self (Spec instance) for eval execution
    #global.spex.spec = @
    @scenarios = spec.buildScenarios specDSL

#    @testCode = spec.services.buildTest @scenarios, @isCoffee
#    @status..error = spec.services.runTest @testCode

    @done?()


module.exports = Spec

### TEST #functional

#>> Given some spec code

code = ">> Given some spec code\nfoo = 'foo'"

#>> When you create a new Spec

poo = new Spec 'myspec', code, true
spec.dump poo

